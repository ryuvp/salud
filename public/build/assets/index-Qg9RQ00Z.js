import{d as C,z as S,r as c,o as d,c as u,C as e,u as a,I as _,G as i,K as I,L as B,E as b,H as x,a as n,a0 as E}from"./_plugin-vue_export-helper-DRuSU7Sp.js";import{e as F,b as M}from"./app-SQe7OV8o.js";import{U as N}from"./user-BG8TCbkm.js";const R={class:"grid"},T={class:"col-12 md:col-6"},j={class:"card"},z={class:"flex flex-column align-items-center mb-4"},A={class:"text-2xl font-bold text-900 mb-1"},D={class:"flex flex-wrap justify-content-center gap-2 mb-4"},L={key:0,class:"mb-4"},O={class:"text-center text-sm text-600"},P=e("b",null,"IPRESS",-1),G={class:"text-center text-sm text-600"},H=e("b",null,"Dirección",-1),K={class:"flex flex-column gap-2"},q={class:"flex align-items-center gap-2 mb-2"},J={class:"text-600"},Q={class:"flex align-items-center gap-2 mb-2"},W={class:"text-600"},X={class:"flex align-items-center gap-2 mb-2"},Y={class:"text-600"},Z={class:"flex align-items-center gap-2 mb-2"},$={class:"text-600"},ee={class:"flex align-items-center gap-2 mb-2"},se=e("i",{class:"pi pi-calendar text-600"},null,-1),te={class:"text-600"},oe={class:"flex align-items-center gap-2 mb-2"},le={class:"text-600"},ae={class:"col-12 md:col-6"},ne={class:"card"},ie=e("h3",{class:"text-xl font-semibold mb-4"},"Editar mis datos",-1),de={class:"flex flex-column gap-3"},ce=e("label",{for:"name",class:"block text-sm font-medium mb-1"},"Nombres",-1),me=e("label",{for:"lastname",class:"block text-sm font-medium mb-1"},"Apellidos",-1),re={class:"formgrid grid"},_e={class:"field col"},ue=e("label",{for:"email",class:"block text-sm font-medium mb-1"},"Email",-1),pe={class:"field col"},fe=e("label",{for:"phone",class:"block text-sm font-medium mb-1"},"Telefono",-1),be={class:"formgrid grid"},xe={class:"field col"},he=e("label",{for:"birthdate",class:"block text-sm font-medium mb-1"},"Fecha de nacimiento",-1),ge={class:"field col"},ve=e("label",{for:"sex",class:"block text-sm font-medium mb-1"},"Sexo",-1),Ve={class:"formgrid grid"},we={class:"field col"},ke=e("label",{for:"password",class:"block text-sm font-medium mb-1"},"Contraseña",-1),ye={class:"field col"},Ue=e("label",{for:"confirm-password",class:"block text-sm font-medium mb-1"},"Repita la contraseña",-1),Ce={key:0,class:"p-invalid"},Fe={__name:"index",setup(Se){const h=F(),s=M(),g=new N,t=C({}),v=[{id:0,name:"Masculino"},{id:1,name:"Femenino"}];S(()=>{s.getInfo().then(()=>{Object.assign(t,{id:s.id,name:s.name,lastname:s.lastname,document:s.document,email:s.email,phone:s.phone,sex:s.sex,birthdate:s.birthdate,password:"",confirm_password:""})})});const V=()=>{g.update(t.id,t).then(p=>{h.add({severity:p.status,summary:"Información",detail:p.message,life:5e3}),s.getInfo(),Object.assign(t,{password:"",confirm_password:""})})};return(p,l)=>{const f=c("Avatar"),w=c("Chip"),m=c("v-icon"),r=c("InputText"),k=c("Calendar"),y=c("Dropdown"),U=c("Button");return d(),u("div",R,[e("div",T,[e("div",j,[e("div",z,[a(s).sex===0?(d(),_(f,{key:0,image:"/layout/images/avatar-hombre.png",size:"xlarge",shape:"circle",class:"mb-2"})):(d(),_(f,{key:1,image:"/layout/images/avatar-mujer.png",size:"xlarge",shape:"circle",class:"mb-2"})),e("h2",A,i(a(s).name)+", "+i(a(s).lastname),1)]),e("div",D,[(d(!0),u(I,null,B(a(s).roles,o=>(d(),_(w,{key:o.id,label:o.name},null,8,["label"]))),128))]),a(s).ipress?(d(),u("div",L,[e("p",O,[P,b(": "+i(a(s).ipress.code)+" - "+i(a(s).ipress.name),1)]),e("p",G,[H,b(": "+i(a(s).ipress.address),1)])])):x("",!0),e("div",K,[e("div",q,[n(m,{name:"hi-identification",class:"text-600",scale:"1"}),e("span",J,i(a(s).document),1)]),e("div",Q,[n(m,{name:"md-email-outlined",scale:"1"}),e("span",W,i(a(s).email),1)]),e("div",X,[n(m,{name:"pr-phone",class:"text-600",scale:"1"}),e("span",Y,i(a(s).phone),1)]),e("div",Z,[a(s).sex===0?(d(),_(m,{key:0,name:"bi-gender-male",scale:"1"})):(d(),_(m,{key:1,name:"bi-gender-female",scale:"1"})),e("span",$,i(a(s).sex_format),1)]),e("div",ee,[se,e("span",te,i(a(s).birthdate),1)]),e("div",oe,[n(m,{name:"md-update",class:"text-600",scale:"1"}),e("span",le,i(a(s).age)+" años",1)])])])]),e("div",ae,[e("div",ne,[ie,e("form",{onSubmit:E(V,["prevent"])},[e("div",de,[e("div",null,[ce,n(r,{id:"name",modelValue:t.name,"onUpdate:modelValue":l[0]||(l[0]=o=>t.name=o),class:"w-full",disabled:""},null,8,["modelValue"])]),e("div",null,[me,n(r,{id:"lastname",modelValue:t.lastname,"onUpdate:modelValue":l[1]||(l[1]=o=>t.lastname=o),class:"w-full",disabled:""},null,8,["modelValue"])]),e("div",re,[e("div",_e,[ue,n(r,{id:"email",modelValue:t.email,"onUpdate:modelValue":l[2]||(l[2]=o=>t.email=o),type:"email",class:"w-full"},null,8,["modelValue"])]),e("div",pe,[fe,n(r,{id:"phone",modelValue:t.phone,"onUpdate:modelValue":l[3]||(l[3]=o=>t.phone=o),class:"w-full"},null,8,["modelValue"])])]),e("div",be,[e("div",xe,[he,n(k,{id:"birthdate",modelValue:t.birthdate,"onUpdate:modelValue":l[4]||(l[4]=o=>t.birthdate=o),dateFormat:"dd/mm/yy",class:"w-full"},null,8,["modelValue"])]),e("div",ge,[ve,n(y,{id:"sex",modelValue:t.sex,"onUpdate:modelValue":l[5]||(l[5]=o=>t.sex=o),options:v,optionLabel:"name",optionValue:"id",placeholder:"Select a Sex",class:"w-full"},null,8,["modelValue"])])]),e("div",Ve,[e("div",we,[ke,n(r,{id:"password",modelValue:t.password,"onUpdate:modelValue":l[6]||(l[6]=o=>t.password=o),modelModifiers:{trim:!0},placeholder:"*********",class:"w-full"},null,8,["modelValue"])]),e("div",ye,[Ue,n(r,{id:"confirm-password",modelValue:t.confirm_password,"onUpdate:modelValue":l[7]||(l[7]=o=>t.confirm_password=o),modelModifiers:{trim:!0},placeholder:"*********",class:"w-full"},null,8,["modelValue"]),t.password!==t.confirm_password?(d(),u("small",Ce,"Repita la contraseña.")):x("",!0)])]),n(U,{type:"submit",label:"Actualizar datos",class:"w-full"})])],32)])])])}}};export{Fe as default};
