import{b as s,F as j,z as A,r as u,o as d,c as r,C as o,a as t,B as i,E as _,G as f,D as x,H as h}from"./_plugin-vue_export-helper-DRuSU7Sp.js";import{s as G,e as H,F as $}from"./app-SQe7OV8o.js";class J{get(){return G({url:"/permissions",method:"get"})}post(){}update(){}delete(){}}const Q={class:"grid"},W={class:"col-12"},X={class:"card"},Y=o("div",{class:"my-2"},[o("h5",{class:"m-0"},"Lista de Permisos")],-1),Z={class:"flex flex-column md:flex-row md:justify-content-start md:align-items-center"},ee=o("span",{class:"p-column-title"},"Name",-1),le=o("span",{class:"p-column-title"},"Description",-1),ae=o("span",{class:"p-column-title"},"Icon",-1),te=o("span",{class:"p-column-title"},"Route",-1),oe=o("span",{class:"p-column-title"},"Category",-1),se={class:"field"},ie=o("label",{for:"category",class:"mb-3"},"Category",-1),ne={key:0,class:"field"},ue=o("label",{for:"section",class:"mb-3"},"Section",-1),de={key:1,class:"field"},re=o("label",{for:"parent",class:"mb-3"},"Parent",-1),ce={class:"field"},ve=o("label",{for:"name"},"Name",-1),me={key:0,class:"p-invalid"},pe={class:"field"},_e=o("label",{for:"description"},"Description",-1),fe={key:0,class:"p-invalid"},he={class:"field"},be=o("label",{for:"route"},"Route",-1),ge={key:0,class:"p-invalid"},ye={class:"field"},Ve=o("label",{for:"icon"},"Icon",-1),Se={key:0,class:"p-invalid"},ke={__name:"index",setup(D){const w=H(),b=s(null),g=s(!1);s(!1),s(!1);const e=s({}),C=s(null),T=s(null),y=s({}),n=s(!1),V=s(null),N=s([{label:"Section",value:"0"},{label:"Menu",value:"1"},{label:"Menu-Link",value:"2"}]),L=s([{label:"home",value:"home"},{label:"manage",value:"manage"},{label:"profile",value:"profile"}]),M=s([{label:"dashboard",value:"home.dashboard"},{label:"user",value:"manage.users"},{label:"user",value:"profile.user"}]),U=new J;j(()=>{F()}),A(()=>{U.get().then(c=>{b.value=c.data})});const R=()=>{g.value=!1,n.value=!1},q=()=>{n.value=!0,e.value.name&&e.value.name.trim()&&e.value.price&&(e.value.id?(e.value.inventoryStatus=e.value.inventoryStatus.value?e.value.inventoryStatus.value:e.value.inventoryStatus,products.value[B(e.value.id)]=e.value,w.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(e.value.id=createId(),e.value.code=createId(),e.value.image="product-placeholder.svg",e.value.inventoryStatus=e.value.inventoryStatus?e.value.inventoryStatus.value:"INSTOCK",products.value.push(e.value),w.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),g.value=!1,e.value={})},B=c=>{let a=-1;for(let v=0;v<b.value.length;v++)if(b.value[v].id===c){a=v;break}return a},F=()=>{y.value={global:{value:null,matchMode:$.CONTAINS}}},O=c=>{V.value=c.value};return(c,a)=>{const v=u("Toolbar"),k=u("InputIcon"),m=u("InputText"),P=u("IconField"),p=u("Column"),z=u("Tag"),E=u("DataTable"),S=u("Dropdown"),I=u("Button"),K=u("Dialog");return d(),r("div",Q,[o("div",W,[o("div",X,[t(v,{class:"mb-2"},{start:i(()=>[Y]),_:1}),t(E,{ref_key:"dt",ref:T,value:b.value,selection:C.value,"onUpdate:selection":a[1]||(a[1]=l=>C.value=l),dataKey:"id",paginator:!0,rows:10,filters:y.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} permissions"},{header:i(()=>[o("div",Z,[t(P,{iconPosition:"left",class:"block mt-2 md:mt-0"},{default:i(()=>[t(k,{class:"pi pi-search"}),t(m,{class:"w-full sm:w-auto",modelValue:y.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=l=>y.value.global.value=l),placeholder:"Search..."},null,8,["modelValue"])]),_:1})])]),default:i(()=>[t(p,{field:"name",header:"Name",headerStyle:"width:24%; min-width:10rem;"},{body:i(l=>[ee,_(" "+f(l.data.name),1)]),_:1}),t(p,{field:"description",header:"Description",headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[le,_(" "+f(l.data.description),1)]),_:1}),t(p,{field:"icon",header:"Icon",headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[ae,o("i",{class:x(l.data.icon)},null,2),_(" "+f(l.data.icon),1)]),_:1}),t(p,{field:"route",header:"Route",headerStyle:"width:24%; min-width:10rem;"},{body:i(l=>[te,_(" "+f(l.data.route),1)]),_:1}),t(p,{field:"category",header:"Category",headerStyle:"width:14%; min-width:10rem;"},{body:i(l=>[oe,t(z,{severity:l.data.category===2?"success":l.data.category===1?"warning":"info"},{default:i(()=>[_(f(l.data.category_name),1)]),_:2},1032,["severity"])]),_:1})]),_:1},8,["value","selection","filters"]),t(K,{visible:g.value,"onUpdate:visible":a[10]||(a[10]=l=>g.value=l),style:{width:"450px"},header:"Permission Details",modal:!0,class:"p-fluid"},{footer:i(()=>[t(I,{label:"Cancel",icon:"pi pi-times",text:"",onClick:R}),t(I,{label:"Save",icon:"pi pi-check",text:"",onClick:q})]),default:i(()=>[o("div",se,[ie,t(S,{id:"category",modelValue:e.value.category,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value.category=l),options:N.value,onChange:a[3]||(a[3]=l=>O(e.value.category)),optionLabel:"label",placeholder:"Select a Category"},null,8,["modelValue","options"])]),V.value==="menu"?(d(),r("div",ne,[ue,t(S,{id:"section",modelValue:e.value.section,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value.section=l),options:L.value,optionLabel:"label",placeholder:"Select a Section"},null,8,["modelValue","options"])])):V.value==="submenu"?(d(),r("div",de,[re,t(S,{id:"parent",modelValue:e.value.parent,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value.parent=l),options:M.value,optionLabel:"label",placeholder:"Select a Parent"},null,8,["modelValue","options"])])):h("",!0),o("div",ce,[ve,t(m,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":a[6]||(a[6]=l=>e.value.name=l),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:n.value&&!e.value.name,disabled:!0},null,8,["modelValue","invalid"]),n.value&&!e.value.name?(d(),r("small",me,"Name is required.")):h("",!0)]),o("div",pe,[_e,t(m,{id:"description",modelValue:e.value.description,"onUpdate:modelValue":a[7]||(a[7]=l=>e.value.description=l),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:n.value&&!e.value.description},null,8,["modelValue","invalid"]),n.value&&!e.value.description?(d(),r("small",fe,"Description is required.")):h("",!0)]),o("div",he,[be,t(m,{id:"route",modelValue:e.value.route,"onUpdate:modelValue":a[8]||(a[8]=l=>e.value.route=l),modelModifiers:{trim:!0},required:"true",autofocus:"",disabled:!0,invalid:n.value&&!e.value.route},null,8,["modelValue","invalid"]),n.value&&!e.value.route?(d(),r("small",ge,"Route is required.")):h("",!0)]),o("div",ye,[Ve,t(P,{id:"icon"},{default:i(()=>[t(k,{class:x(e.value.icon)},null,8,["class"]),t(m,{modelValue:e.value.icon,"onUpdate:modelValue":a[9]||(a[9]=l=>e.value.icon=l),modelModifiers:{trim:!0},required:"true",autofocus:"",invalid:n.value&&!e.value.icon},null,8,["modelValue","invalid"])]),_:1}),n.value&&!e.value.icon?(d(),r("small",Se,"Icon is required.")):h("",!0)])]),_:1},8,["visible"])])])])}}};export{ke as default};
